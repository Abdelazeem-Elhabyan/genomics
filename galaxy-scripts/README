galaxy-scripts
==============

Some utility scripts for setting up Galaxy.

Genome Index Utilities
----------------------

- bfast_build_indexes.sh <genome_fasta_file>

  Builds the bfast color space indexes from the reference FASTA file.
  Indexes are .bif files created in the directory the script
  is run in.
  It also creates the .brg files for base and color space.

  NOTE: "bfast index" is run with options -d 1 (specifying depth of
  splitting) and -w 14 (specifying the hash width). This may not be
  the optimal values for all genomes. Edit the BFAST_INDEX_OPTIONS
  variable to change these values.

- bowtie_build_indexes.sh <genome_fasta_file>

  Builds the bowtie color and nucleotide space indexes from the reference
  FASTA file.
  Nucleotide indexes are <genome_name>.*.ebwt
  Color space indexes are <genome_name>_c.*.ebwt
  Index files are created in the directory the script is run in.

- srma_build_indexes.sh <genome_fasta_file>

  Creates the .fai and .dict files required by SRMA. Both files are
  created in the same directory as the reference FASTA file, which is
  where SRMA requires them to be; the script itself can be run from
  anywhere.

  (NOTE: that the path to the picard tools dir is hardcoded depending
  on the machine the script is being run on.)

Note on preparing reference genome files
----------------------------------------

Where the reference genome is a collection of FASTA files for each
chromosome, it's necessary to prepare a single file for the bfast and
bowtie index generation by concatenating them together, e.g.:

cat chr* > hg18_random_chrM.fa

The individual chromosome FASTA files can then be archived, e.g.:

tar -cvf hg18_random_chrM.tar chr*
gzip hg18_random_chrM.tar
